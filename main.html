<html>

<head> <meta charset="UTF-8">

<script>
	var dkc2ldd = {};
	var dkc2debug = {};
</script>

<!-- JSON 5 :
	site : https://json5.org/
	docs : https://spec.json5.org/
	src  : https://github.com/json5/json5
	lib  : https://unpkg.com/json5@2.2.1/dist/index.min.js
-->
<script src="./external/JSON5.min.js"></script>

<script src="./scriptPackLoader.js"></script>

<!-- <script src="./betaDev/HexInput.js"></script> -->

<script src="./decompressor_debug.js"></script>

<script src="./img.js"></script>

<script src="./lib.js"></script>


<script src="./gfx.js"></script>
<script src="./gfx/palette.js"></script>
<script src="./gfx/tileset.js"></script>

<script src="./gfxHARD/create_4formated2bppTileset.js"></script>
<script src="./gfxHARD/create_4formated4bppTileset.js"></script>
<script src="./gfxHARD/create_4formated8bppTileset.js"></script>

<script src="./gfxHARD/create_4decoded2bppTileset.js"></script>
<script src="./gfxHARD/create_4decoded4bppTileset.js"></script>
<script src="./gfxHARD/create_4decoded8bppTileset.js"></script>

<script src="./gfxHARD/create_mapchipGfxBuffer.js"></script>
<script src="./gfxHARD/create_mapchipGfxBuffer_OLD_0.js"></script>
<script src="./gfxHARD/create_mapchipGfxBuffer_OLD_1.js"></script>


<script src="./ref.js"></script>

<script src="./write.js"></script>
<script src="./features.js"></script>

<script src="./interface.js"></script>
<script src="./events.js"></script>

<script src="./editor.js"></script>
<script src="./WorkspaceToolPack/LOAD_PACK.js"></script>

<script src="./component.js"></script>

<script src="./editor/mode_00.js"></script>
<script src="./editor/mode_0.js"></script>
<script src="./editor/mode_1.js"></script>
<script src="./editor/mode_2.js"></script>
<script src="./editor/mode_3.js"></script>
<script src="./editor/mode_3b.js"></script>
<script src="./editor/mode_4.js"></script>
<script src="./editor/mode_5.js"></script>
<script src="./editor/mode_6.js"></script>
<script src="./editor/mode_7.js"></script>
<script src="./editor/mode_8.js"></script>
<script src="./editor/mode_9.js"></script>
<script src="./editor/mode_10.js"></script>
<script src="./editor/mode_11.js"></script>
<script src="./editor/mode_12.js"></script>


<script>



</script>


</head>








<body>
	DKC TWOOL PROTOTYPE VERSION
</body>

<script>

	dkc2ldd.interface.create_userInterface();
	dkc2ldd.interface.start_workspace();
	
	dkc2ldd.event.setEvent_srcFilePanel();
	dkc2ldd.event.setEvent_editModePanel();

</script>

<script src="./preload.js"></script>
<script src="./debug.js"></script>

<script src="./demo.js"></script>


<script defer>
if(true){




	/*
	let app = dkc2ldd;

	let data = {
		ownerRefs : app.interface.srcFilePanel.palette.get_dataWithOwnerAccess(),
		byteOffset : 0
	};

	let lib = {
		decode2 : app.gfx.fast.decode_palette,
		decode4 : app.gfx.fast.decode_palette,
		decode8 : app.gfx.fast.decode_palette,
		format2 : app.gfx.fast.format_palette,
		format4 : app.gfx.fast.format_palette,
		format8 : app.gfx.fast.format_palette,

		writeD2 : app.write.decodedPalette,
		writeD4 : app.write.decodedPalette,
		writeD8 : app.write.decodedPalette,
		writeF2 : app.write.formatedPalette,
		writeF4 : app.write.formatedPalette,
		writeF8 : app.write.formatedPalette,
	};

	PAL = app.component.Palette(data, lib);

	PAL.init();

	PAL.update('decoded2');
	PAL.type.decoded2[0][0] = 255
	PAL.type.decoded2[0][1] = 0
	PAL.type.decoded2[0][2] = 0
	PAL.type.decoded2[30][0] = 0
	PAL.type.decoded2[30][1] = 0
	PAL.type.decoded2[30][2] = 255
	PAL.type.decoded2[31][0] = 0
	PAL.type.decoded2[31][1] = 255
	PAL.type.decoded2[31][2] = 0
	PAL.sync('decoded2');
	PAL.write();
	
	PAL.update('formated2');
	PAL.type.formated2[0][0][2] = 255;
	PAL.sync('formated2');
	PAL.write();
	*/

	// test
	let Elem = dkc2ldd.WorkspaceToolPack.CreateElem;
	let HexInput = dkc2ldd.WorkspaceToolPack.HexInput;

	let label1 = Elem('label', {txtCnt:'default : '});
	let label2 = Elem('label', {txtCnt:'optPrefPio : '});
	

	//let hexInput = HexInput('0x',['DATA_','ff:'], true);


	// pref='',
	// mainPrefCatch=true,
	// prefsCatch=[],
	// prefsPriority, // priority on bank separator format catch
	// onlyAfterColonCatch, // can catch only after colon ':' char except on bank separator case
	// ignoreBankNum

	let hexInput1 = HexInput('FF:', true, ['FF:'], false, false, false);
	let hexInput2 = HexInput('FF:', false, ['FF:'], true, false, false);


	dkc2ldd.interface.workspace.elem.appendChild(label1);
	dkc2ldd.interface.workspace.elem.appendChild(hexInput1);
	dkc2ldd.interface.workspace.elem.appendChild(Elem('BR'));

	dkc2ldd.interface.workspace.elem.appendChild(label2);
	dkc2ldd.interface.workspace.elem.appendChild(hexInput2);
	dkc2ldd.interface.workspace.elem.appendChild(Elem('BR'));


	dkc2ldd.interface.workspace.elem.style.display = 'block';

}
</script>

	
</html>

